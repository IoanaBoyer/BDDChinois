-- Generated by Mocodo 4.2.4

CREATE TABLE Description (
  PRIMARY KEY (plant_id, Livre_id),
  plant_id       VARCHAR(42) NOT NULL,
  Livre_id       VARCHAR(42) NOT NULL,
  Description_id VARCHAR(42),
  Nom_plante     VARCHAR(42),
  Description    VARCHAR(42),
  Partie_Utile   VARCHAR(42),
  Lieu           VARCHAR(42),
  Recolte        VARCHAR(42),
  Histoire       VARCHAR(42),
  Explications   VARCHAR(42),
  Preparations   VARCHAR(42),
  Plante_id      VARCHAR(42) NOT NULL,
  Livre_id_2     VARCHAR(42) NOT NULL,
  UNIQUE (Plante_id, Livre_id_2)
);

CREATE TABLE Directions (
  PRIMARY KEY (direction_id),
  direction_id      VARCHAR(42) NOT NULL,
  Nom_francais      VARCHAR(42),
  Nom_chinois       VARCHAR(42),
  Nom_pinyin_min    VARCHAR(42),
  Nom_pinyin_accent VARCHAR(42),
  Synonymes         VARCHAR(42),
  Description       VARCHAR(42),
  plant_id          VARCHAR(42) NOT NULL,
  Livre_id          VARCHAR(42) NOT NULL,
  UNIQUE (plant_id, Livre_id)
);

CREATE TABLE Est_lie_a_livre (
  PRIMARY KEY (Livre_id_1, plant_id, Livre_id_2),
  Livre_id_1 VARCHAR(42) NOT NULL,
  plant_id   VARCHAR(42) NOT NULL,
  Livre_id_2 VARCHAR(42) NOT NULL
);

CREATE TABLE Indications (
  PRIMARY KEY (Indication_id),
  Indication_id VARCHAR(42) NOT NULL,
  Indication    VARCHAR(42),
  Explication   VARCHAR(42),
  Plante_id     VARCHAR(42) NOT NULL,
  Livre_id      VARCHAR(42) NOT NULL,
  UNIQUE (Plante_id, Livre_id)
);

CREATE TABLE Livre (
  PRIMARY KEY (Livre_id),
  Livre_id       VARCHAR(42) NOT NULL,
  Titre          VARCHAR(42),
  Suite_du_titre VARCHAR(42),
  Auteur         VARCHAR(42),
  Autres_auteurs VARCHAR(42),
  ISBN           VARCHAR(42),
  Edition        VARCHAR(42),
  Annee          VARCHAR(42)
);

CREATE TABLE Nature (
  PRIMARY KEY (nature_id),
  nature_id              VARCHAR(42) NOT NULL,
  Nom_francais           VARCHAR(42),
  Nom_chinois            VARCHAR(42),
  Pinyin_sans_accent_min VARCHAR(42),
  Pinyin_accent          VARCHAR(42),
  Synonyme               VARCHAR(42),
  Description            VARCHAR(42)
);

CREATE TABLE Noms_Plantes (
  PRIMARY KEY (Plante_id, Livre_id),
  Plante_id              VARCHAR(42) NOT NULL,
  Livre_id               VARCHAR(42) NOT NULL,
  Nom_botanique          VARCHAR(42),
  Famille_Botanique      VARCHAR(42),
  Nom_Latin              VARCHAR(42),
  Nom_Scientifique       VARCHAR(42),
  Nom_Commun             VARCHAR(42),
  Nom_Chinois            VARCHAR(42),
  Nom_Pinyin             VARCHAR(42),
  Nom_Pinyin_sans_accent VARCHAR(42),
  Autres_Noms            VARCHAR(42),
  Autres_varietes        VARCHAR(42),
  Description_id         VARCHAR(42),
  Num_Plante             VARCHAR(42),
  plant_id               VARCHAR(42) NOT NULL,
  Livre_id_2             VARCHAR(42) NOT NULL,
  Composants_actifs      VARCHAR(42) NOT NULL
);

CREATE TABLE Pharmacologie (
  PRIMARY KEY (plant_id, Livre_id, Composants_actifs),
  plant_id                    VARCHAR(42) NOT NULL,
  Livre_id                    VARCHAR(42) NOT NULL,
  Composants_actifs           VARCHAR(42) NOT NULL,
  Constituants_chimiques      VARCHAR(42),
  Actions_pharmacologiques    VARCHAR(42),
  Utilisation_Medicinales     VARCHAR(42),
  Recherches_pharmacologiques VARCHAR(42)
);

CREATE TABLE Photos (
  PRIMARY KEY (Plante_id),
  Plante_id              VARCHAR(42) NOT NULL,
  photo1                 VARCHAR(42),
  photo_1_File_Data      VARCHAR(42),
  photo_1_File_Name      VARCHAR(42),
  photo_1_File_Type      VARCHAR(42),
  photo2                 VARCHAR(42),
  photo_2_File_Data      VARCHAR(42),
  photo_2_File_Name      VARCHAR(42),
  photo_2_File_Type      VARCHAR(42),
  日                      VARCHAR(42),
  photo_brut             VARCHAR(42),
  photo_brut_File_Data   VARCHAR(42),
  photo_brut_File_Name   VARCHAR(42),
  photo_brut_File_Type   VARCHAR(42),
  photo_poudre           VARCHAR(42),
  photo_poudre_File_Data VARCHAR(42),
  photo_poudre_File_Name VARCHAR(42),
  photo_poudre_File_Type VARCHAR(42),
  Plante_id_2            VARCHAR(42) NOT NULL,
  Livre_id               VARCHAR(42) NOT NULL,
  UNIQUE (Plante_id_2, Livre_id)
);

CREATE TABLE Plante (
  PRIMARY KEY (plant_id, Livre_id),
  plant_id                 VARCHAR(42) NOT NULL,
  Livre_id                 VARCHAR(42) NOT NULL,
  Description_id           VARCHAR(42),
  saveur_id_1              VARCHAR(42),
  nature_id_1              VARCHAR(42),
  Direction_id             VARCHAR(42),
  tropisme                 VARCHAR(42),
  fonctions                VARCHAR(42),
  Indications              VARCHAR(42),
  Utilisee_pour            VARCHAR(42),
  Combinaisons             VARCHAR(42),
  Contre_indications       VARCHAR(42),
  Posologie                VARCHAR(42),
  Toxicite                 VARCHAR(42),
  Composants_actifs        VARCHAR(42),
  Constituants_chimiques   VARCHAR(42),
  Actions_pharmacologiques VARCHAR(42),
  Remarques                VARCHAR(42),
  Formules_de_reference    VARCHAR(42),
  nature_id_2              VARCHAR(42) NOT NULL,
  saveur_id_2              VARCHAR(42) NOT NULL,
  Plante_id                VARCHAR(42) NOT NULL,
  Livre_id_2               VARCHAR(42) NOT NULL,
  UNIQUE (nature_id_2),
  UNIQUE (saveur_id_2),
  UNIQUE (Plante_id, Livre_id_2)
);

CREATE TABLE Saveur (
  PRIMARY KEY (saveur_id),
  saveur_id              VARCHAR(42) NOT NULL,
  Nom_francais           VARCHAR(42),
  Nom_chinois            VARCHAR(42),
  Pinyin_sans_accent_min VARCHAR(42),
  Pinyin_accent          VARCHAR(42),
  Туре                   VARCHAR(42),
  Synonymes              VARCHAR(42),
  Description            VARCHAR(42)
);

CREATE TABLE Taxon (
  PRIMARY KEY (Plante_id),
  Plante_id          VARCHAR(42) NOT NULL,
  Livre_id_1         VARCHAR(42),
  Regne              VARCHAR(42),
  Embranchement      VARCHAR(42),
  Sous_embranchement VARCHAR(42),
  Classe             VARCHAR(42),
  Ordre              VARCHAR(42),
  Famille            VARCHAR(42),
  Sous_famille       VARCHAR(42),
  Genre              VARCHAR(42),
  Espece             VARCHAR(42),
  Plante_id_2        VARCHAR(42) NOT NULL,
  Livre_id_2         VARCHAR(42) NOT NULL,
  UNIQUE (Plante_id_2, Livre_id_2)
);

CREATE TABLE Toxicite (
  PRIMARY KEY (plant_id, Livre_id, Posologie),
  plant_id         VARCHAR(42) NOT NULL,
  Livre_id         VARCHAR(42) NOT NULL,
  Posologie        VARCHAR(42) NOT NULL,
  Danger_potentiel VARCHAR(42),
  Precautions      VARCHAR(42),
  Toxicite         VARCHAR(42),
  Plante_id        VARCHAR(42) NOT NULL,
  Livre_id_2       VARCHAR(42) NOT NULL,
  UNIQUE (Plante_id, Livre_id_2)
);

ALTER TABLE Description ADD FOREIGN KEY (Plante_id, Livre_id_2) REFERENCES Noms_Plantes (Plante_id, Livre_id);

ALTER TABLE Directions ADD FOREIGN KEY (plant_id, Livre_id) REFERENCES Plante (plant_id, Livre_id);

ALTER TABLE Est_lie_a_livre ADD FOREIGN KEY (plant_id, Livre_id_2) REFERENCES Plante (plant_id, Livre_id);
ALTER TABLE Est_lie_a_livre ADD FOREIGN KEY (Livre_id_1) REFERENCES Livre (Livre_id);

ALTER TABLE Indications ADD FOREIGN KEY (Plante_id, Livre_id) REFERENCES Noms_Plantes (Plante_id, Livre_id);

ALTER TABLE Noms_Plantes ADD FOREIGN KEY (plant_id, Livre_id_2, Composants_actifs) REFERENCES Pharmacologie (plant_id, Livre_id, Composants_actifs);

ALTER TABLE Photos ADD FOREIGN KEY (Plante_id_2, Livre_id) REFERENCES Noms_Plantes (Plante_id, Livre_id);

ALTER TABLE Plante ADD FOREIGN KEY (Plante_id, Livre_id_2) REFERENCES Noms_Plantes (Plante_id, Livre_id);
ALTER TABLE Plante ADD FOREIGN KEY (saveur_id_2) REFERENCES Saveur (saveur_id);
ALTER TABLE Plante ADD FOREIGN KEY (nature_id_2) REFERENCES Nature (nature_id);

ALTER TABLE Taxon ADD FOREIGN KEY (Plante_id_2, Livre_id_2) REFERENCES Noms_Plantes (Plante_id, Livre_id);

ALTER TABLE Toxicite ADD FOREIGN KEY (Plante_id, Livre_id_2) REFERENCES Noms_Plantes (Plante_id, Livre_id);

